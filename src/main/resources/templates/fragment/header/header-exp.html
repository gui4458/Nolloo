<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<th:block th:fragment="headerFragment">

    <header x-data="{ expanded: false }"
    class="relative before:absolute before:rounded-lg before:shadow-xl before:shadow-slate-900/5 before:bg-white before:transition-all before:duration-500 before:ease-[cubic-bezier(.5,.85,.25,1.8)]"
    :class="expanded ? 'before:-inset-0 before:top-0' : 'before:inset-0'">
    <div class="relative">
        <div class="flex items-center px-4">
            <a class="focus-visible:outline-none focus-visible:ring focus-visible:ring-indigo-300"
                href="/item/list">
                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" aria-label="Logo">
                    <style type="text/css">
                        .logo0 {
                            fill: #3A4162;
                        }

                        .logo1 {
                            fill: #336E83;
                        }

                        .st2 {
                            fill: #348915;
                        }

                        .st3 {
                            fill: #F7CE72;
                        }

                        .st4 {
                            fill: #F77269;
                        }

                        .st5 {
                            fill: #D04F45;
                        }
                    </style>
                    <path fill=#3A4162 d="M7,0.8h2.1v10.1H7L2.4,4.4v6.5H0.2V0.8h2.2L7,7.3V0.8z" />
                    <path fill=#336E83 d="M10.8,5.9c0-1.5,0.5-2.7,1.5-3.7s2.2-1.5,3.5-1.5c1.5,0,2.7,0.5,3.7,1.5S21,4.4,21,5.9s-0.5,2.7-1.5,3.7
        S17.3,11,15.8,11s-2.7-0.5-3.6-1.5C11.3,8.6,10.8,7.4,10.8,5.9z M15.9,2.7c-0.8,0-1.5,0.3-2,0.9S13.1,5,13.1,5.9s0.3,1.6,0.8,2.2
        S15,9,15.8,9s1.5-0.3,2-0.9s0.8-1.3,0.8-2.3c0-0.9-0.3-1.7-0.8-2.3C17.4,3,16.7,2.7,15.9,2.7z" />
                    <path fill=#348915 d="M22.8,0.8H25v7.9h3v2.2h-5.1V0.8H22.8z" />
                    <path fill=#F7CE72 d="M0,17.1h2.2V25h3v2.2H0V17.1z" />
                    <path fill=#F77269 d="M6.2,22.1c0-1.5,0.5-2.7,1.5-3.7S9.8,17,11.2,17c1.5,0,2.7,0.5,3.7,1.5s1.5,2.2,1.5,3.7s-0.5,2.7-1.5,3.7
        s-2.2,1.5-3.7,1.5s-2.7-0.5-3.6-1.5S6.2,23.6,6.2,22.1z M11.3,19c-0.8,0-1.5,0.3-2,0.9s-0.8,1.4-0.8,2.3s0.3,1.6,0.8,2.2
        s1.2,0.9,2,0.9s1.5-0.3,2-0.9s0.8-1.3,0.8-2.3c0-0.9-0.3-1.7-0.8-2.3C12.8,19.3,12.1,19,11.3,19z" />
                    <path fill=#D04F45
                        d="M17.8,22.1c0-1.5,0.5-2.7,1.5-3.7s2.2-1.5,3.5-1.5c1.5,0,2.7,0.5,3.7,1.5s1.5,2.2,1.5,3.7s-0.5,2.7-1.5,3.7
        s-2.2,1.5-3.7,1.5s-2.7-0.5-3.6-1.5C18.3,24.9,17.8,23.6,17.8,22.1z M22.9,19c-0.8,0-1.5,0.3-2,0.9s-0.8,1.4-0.8,2.3
        s0.3,1.6,0.8,2.2s1.2,0.9,2,0.9s1.5-0.3,2-0.9s0.8-1.3,0.8-2.3c0-0.9-0.3-1.7-0.8-2.3C24.4,19.3,23.8,19,22.9,19z" />
                </svg>
            </a>

            <button id="menubutton" type="button"
                class="grow flex items-center justify-end h-14 pl-4 focus-visible:outline-none group border-none"
                @click="expanded = !expanded" :aria-expanded="expanded" aria-controls="menu">
                <div class="p-1.5 group-focus-visible:ring group-focus-visible:ring-indigo-300">
                    <svg class="fill-red-400 shrink-0 transition duration-300 ease-in-out"
                        :class="{'rotate-[135deg]': expanded}" width="18" height="18"
                        xmlns="http://www.w3.org/2000/svg">
                        <rect y="8" width="18" height="2" />
                        <rect y="8" width="18" height="2" class="transform origin-center rotate-90" />
                    </svg>
                </div>
            </button>

        </div>

        <nav id="menu" role="navigation" aria-labelledby="menubutton"
            class="grid text-sm text-slate-600 overflow-hidden transition-all duration-500 ease-[cubic-bezier(.5,.85,.25,1.8)] [&[x-cloak]]:hidden"
            :class="expanded ? 'grid-rows-[1fr] opacity-100' : 'grid-rows-[0fr] opacity-0 invisible'" x-cloak>
            <div
                class="overflow-hidden before:block before:w-full before:h-px before:bg-gradient-to-r before:from-transparent before:via-slate-200 before:to-transparent">
                <div class="px-4 md:px-6 py-8">
                    <div class="space-y-8 lg:flex lg:space-x-12 lg:space-y-0">
                        <div class="space-y-8 lg:w-3/4 md:flex md:space-x-6 md:space-y-0">
                            <div class="md:w-1/2">
                                <div class="text-xs uppercase font-semibold text-red-400 mb-3">카테고리</div>
                                <ul class="space-y-1">
                                    <li th:each="cate : ${session.cateList}">
                                        <span
                                            class="flex space-x-4 px-3 py-2.5 rounded hover:bg-slate-50 focus-visible:outline-none focus-visible:ring focus-visible:ring-indigo-300 transition"
                                            th:onclick="goParty([[${cate.cateCode}]])">
                                            <div
                                                class="shrink-0 flex items-center justify-center h-9 w-9 rounded bg-white border border-slate-200">
                                                <div th:class="'icon-' +${cate.cateCode}"></div>
                                            </div>

                                            <div>
                                                <div class="text-sm font-semibold text-slate-800 mb-0.5">
                                                    [[${cate.cateName}]]
                                                </div>
                                                <!-- <div class="text-slate-500">Everything counts. And everything that counts — shapes us.</div> -->
                                            </div>
                                        </span>
                                    </li>
                                    


                                </ul>
                            </div>
                            <div class="md:w-1/2">
                                <div class="text-xs uppercase font-semibold text-red-400 mb-3">추천목록</div>
                                <ul class="space-y-1">
                                    <th:block>
                                        <li th:each="recom : ${session.recommendList}">
                                            <a class="flex space-x-4 px-3 py-2.5 rounded hover:bg-slate-50 focus-visible:outline-none focus-visible:ring focus-visible:ring-indigo-300 transition"
                                                href="#0">
                                                <div class="shrink-0 flex items-center justify-center h-9 w-9 rounded bg-white border border-slate-200">
                                                    --
                                                </div>
                                                <div>
                                                    <div class="text-sm font-semibold text-slate-800 mb-0.5">[[${recom.itemTitle}]]</div>
                                                    <!-- <div class="text-slate-500">천연 차의 신비! 보성아 놀자</div> -->
                                                </div>
                                            </a>
                                        </li>
                                    </th:block>
                                </ul>
                            </div>
                        </div>

                        <div
                            class="lg:w-1/4 flex flex-col sm:flex-row lg:flex-col sm:justify-between space-y-8 relative before:hidden lg:before:block before:absolute before:-left-6 before:w-px before:h-full before:bg-gradient-to-b before:from-transparent before:via-slate-200 before:to-transparent">
                            <div>
                                <th:block sec:authorize="isAuthenticated()">
                                    <div class="text-xs uppercase font-semibold text-red-400 mb-5">내 계정</div>
                                    <div class="text-xs uppercase font-semibold text-red-400 mb-5">
                                        [[${#authentication.name}]]님 환영합니다.</div>
                                    <ul class="space-y-1 -mx-3">
                                        <li>
                                            <span
                                                class="flex text-sm font-semibold text-slate-800 px-3 py-1 rounded hover:bg-slate-50 focus-visible:outline-none focus-visible:ring focus-visible:ring-indigo-300 transition"
                                                href="/admin/regItemForm">Settings</span>
                                        </li>

                                        <th:block sec:authorize="hasRole('ROLE_ADMIN')">
                                            <li>
                                                <span
                                                    class="flex text-sm font-semibold text-slate-800 px-3 py-1 rounded hover:bg-slate-50 focus-visible:outline-none focus-visible:ring focus-visible:ring-indigo-300 transition"
                                                    href="/admin/regItemForm">Settings</span>
                                            </li>
                                        </th:block>

                                        <li>
                                            <a class="flex text-sm font-semibold text-slate-800 px-3 py-1 rounded hover:bg-slate-50 focus-visible:outline-none focus-visible:ring focus-visible:ring-indigo-300 transition"
                                                href="/now">Area</a>
                                        </li>

                                        <li>
                                            <a class="flex text-sm font-semibold text-slate-800 px-3 py-1 rounded hover:bg-slate-50 focus-visible:outline-none focus-visible:ring focus-visible:ring-indigo-300 transition"
                                                href="/wish/goWishList">장바구니</a>
                                        </li>
                                        <li>
                                            <a class="flex text-sm font-semibold text-slate-800 px-3 py-1 rounded hover:bg-slate-50 focus-visible:outline-none focus-visible:ring focus-visible:ring-indigo-300 transition"
                                                href="/member/myPage">내 계정</a>
                                        </li>
                                        <li>
                                            <a class="flex text-sm font-semibold text-slate-800 px-3 py-1 rounded hover:bg-slate-50 focus-visible:outline-none focus-visible:ring focus-visible:ring-indigo-300 transition"
                                                href="#0">내가 만든 방</a>
                                        </li>
                                    </ul>
                                </th:block>

                            </div>

                            <div class="">
                                <div class="flex items-center space-x-3">
                                    <th:block sec:authorize="isAnonymous()">
                                        <span
                                            class="text-sm font-medium rounded-full bg-red-600 border border-slate-200 px-3 py-1.5 text-white hover:bg-white hover:text-red-600 hover:border-red-500 focus-visible:outline-none focus-visible:ring focus-visible:ring-red-300 transition"
                                            onclick="goLoginForm()">Login</span>
                                        <button type="button"
                                            class="text-sm font-medium rounded-full bg-red-600 border border-slate-200 px-3 py-1.5 text-white hover:bg-white hover:text-red-600 hover:border-red-500 focus-visible:outline-none focus-visible:ring focus-visible:ring-red-300 transition"
                                            @click="showModal = true">Register</button>
                                    </th:block>
                                    <th:block sec:authorize="isAuthenticated()">
                                        <input
                                            class="text-sm font-medium rounded-full bg-red-600 border border-slate-200 px-3 py-1.5 text-white hover:bg-white hover:text-red-600 hover:border-red-500 focus-visible:outline-none focus-visible:ring focus-visible:ring-red-300 transition"
                                            type="button" value="Logout" onclick="goLogout()"
                                            style="cursor: pointer;">
                                    </th:block>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </nav>
    </div>
    </header>

</th:block>

</html>