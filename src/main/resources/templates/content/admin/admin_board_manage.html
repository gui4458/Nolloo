<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{fragment/admin/admin_layout}">

<th:block layout:fragment="content_css">
    <!-- html 파일이 열릴때 같이 실행되는 css -->
    <!-- <link rel="stylesheet" href="/"> -->
</th:block>

<th:block layout:fragment="contentFragment">
    <!-- html 코드 작성 -->
    <div class="mb-20">

        <div class="w-[80%] h-500px ml-20 mb-14">
            <div>

                <div>
                    <label id="listbox-label" class="block text-sm font-medium leading-6 text-gray-900">Assigned
                        to</label>
                    <div class="relative mt-2">
                        <button type="button"
                            class="relative w-full cursor-default rounded-md bg-white py-1.5 pl-3 pr-10 text-left text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 sm:text-sm sm:leading-6"
                            aria-haspopup="listbox" aria-expanded="true" aria-labelledby="listbox-label">
                            <span class="flex items-center">
                                <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"
                                    alt="" class="h-5 w-5 flex-shrink-0 rounded-full">
                                <span class="ml-3 block truncate">Tom Cook</span>
                            </span>
                            <span class="pointer-events-none absolute inset-y-0 right-0 ml-3 flex items-center pr-2">
                                <svg class="h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor"
                                    aria-hidden="true">
                                    <path fill-rule="evenodd"
                                        d="M10 3a.75.75 0 01.55.24l3.25 3.5a.75.75 0 11-1.1 1.02L10 4.852 7.3 7.76a.75.75 0 01-1.1-1.02l3.25-3.5A.75.75 0 0110 3zm-3.76 9.2a.75.75 0 011.06.04l2.7 2.908 2.7-2.908a.75.75 0 111.1 1.02l-3.25 3.5a.75.75 0 01-1.1 0l-3.25-3.5a.75.75 0 01.04-1.06z"
                                        clip-rule="evenodd" />
                                </svg>
                            </span>
                        </button>
                        <ul class="absolute z-10 mt-1 max-h-56 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"
                            tabindex="-1" role="listbox" aria-labelledby="listbox-label"
                            aria-activedescendant="listbox-option-3">

                            <li class="text-gray-900 relative cursor-default select-none py-2 pl-3 pr-9"
                                id="listbox-option-0" role="option">
                                <div class="flex items-center">
                                    <img src="https://images.unsplash.com/photo-1491528323818-fdd1faba62cc?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"
                                        alt="" class="h-5 w-5 flex-shrink-0 rounded-full">

                                    <span class="font-normal ml-3 block truncate">Wade Cooper</span>
                                </div>
                                <span class="text-indigo-600 absolute inset-y-0 right-0 flex items-center pr-4">
                                    <svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                        <path fill-rule="evenodd"
                                            d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"
                                            clip-rule="evenodd" />
                                    </svg>
                                </span>
                            </li>
                            <li class="text-gray-900 relative cursor-default select-none py-2 pl-3 pr-9"
                                id="listbox-option-0" role="option">
                                <div class="flex items-center">
                                    <img src="https://images.unsplash.com/photo-1491528323818-fdd1faba62cc?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"
                                        alt="" class="h-5 w-5 flex-shrink-0 rounded-full">

                                    <span class="font-normal ml-3 block truncate">2</span>
                                </div>
                                <span class="text-indigo-600 absolute inset-y-0 right-0 flex items-center pr-4">
                                    <svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="false">
                                        <path fill-rule="evenodd"
                                            d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"
                                            clip-rule="evenodd" />
                                    </svg>
                                </span>
                            </li>
                        </ul>
                    </div>
                </div>










                <select name="cateCode" id="" class="cate-select">
                    <option value="0" th:selected="${adminPageVO.cateCode} == 0">전체</option>
                    <th:block th:each="cate : ${session.cateList}">
                        <option th:value="${cate.cateCode}" th:selected="${adminPageVO.cateCode == cate.cateCode}">
                            [[${cate.cateName}]]</option>

                    </th:block>
                </select>
            </div>
            <table class=" border-collapse w-[100%] text-center mt-[60px]">
                <caption class="text-left text-red-400 text-[19px]">글 목록</caption>

                <colgroup>
                    <col width="5%">
                    <col width="15%">
                    <col width="10%">
                    <col width="10%">
                    <col width="15%">
                    <col width="5%">
                    <col width="10%">

                </colgroup>
                <thead>
                    <tr class="[&>td]:p-2 text-white font-semibold border-b-2  border-t-red-500 bg-red-300">
                        <td>NO</td>
                        <td>제목</td>
                        <td>가격</td>
                        <td>정원/참여인원</td>
                        <td>장소</td>
                        <td>일자</td>
                        <td>조회수</td>

                    </tr>
                </thead>
                <tbody class="change-td">
                    <th:block th:if="${#lists.size(itemList)}!=0">
                        <tr th:each="board,state : ${itemList}"
                            class="[&>td]:p-2 font-semibold border-b-2  border-t-red-500">
                            <!-- <td>[[${#lists.size(itemList)-state.index}]]</td> -->
                            <td>[[${board.itemCode}]]</td>
                            <td>
                                [[${board.itemTitle}]]
                            </td>

                            <td>[[${board.itemPrice == '0' ? '-' : #numbers.formatCurrency(board.itemPrice)}]]</td>
                            <td>
                                [[${board.cateCode == 2 ? '-' : board.itemPeople +'/'+ board.peopleCnt}]]
                            </td>
                            <td>[[${board.itemPlace}]]</td>
                            <td>[[${board.itemStartDate}]]~[[${board.itemEndDate}]]</td>
                            <td>[[${board.readCnt}]]</td>
                        </tr>
                    </th:block>
                    <th:block th:if="${#lists.size(itemList)} == 0">
                        <tr class="[&>td]:p-2 font-semibold border-b-2  border-t-red-500">
                            <!-- <td>[[${#lists.size(itemList)-state.index}]]</td> -->
                            <td colspan="7">조회된 목록이 없습니다.</td>

                        </tr>
                    </th:block>

                </tbody>

            </table>

        </div>
        <div class="text-center mb-[15px]">
            <div class="mb-[12]">
                <!-- ${searchVO.beginPage} -->
                <!-- ${searchVO.endPage} -->

                <th:block th:if="${adminPageVO.prev}">
                    <a th:href="@{/admin/adminBoardManage(nowPage=${adminPageVO.beginPage-1})}">
                        이전 </a>
                </th:block>

                <th:block th:each="i : ${#numbers.sequence(adminPageVO.beginPage, adminPageVO.endPage)}">
                    <a th:href="@{/admin/adminBoardManage(nowPage=${i})}">
                        [[${i}]] </a>
                </th:block>

                <th:block th:if="${adminPageVO.next}">
                    <a th:href="@{/admin/adminBoardManage(nowPage=${adminPageVO.endPage+1})}">
                        다음 </a>
                </th:block>

            </div>
        </div>
        <div>
            <div class="text-center">
                <form action="/admin/adminBoardManage" method="post">

                    <span><input type="date" name="from" value="from"></span>
                    <span><input type="date" name="to" value="to"></span>
                    <span>
                        <select name="cateCode">
                            <option value="0" th:selected="${adminPageVO.cateCode} == 0">전체</option>
                            <th:block th:each="cate : ${session.cateList}">
                                <option th:value="${cate.cateCode}"
                                    th:selected="${adminPageVO.cateCode == cate.cateCode}">
                                    [[${cate.cateName}]]
                                </option>

                            </th:block>
                        </select>
                    </span>
                    <span>
                        <select name="searchOption">
                            <option value="MEMBER_ID" th:selected="${adminPageVO.searchOption}=='MEMBER_ID'">작성자
                            </option>
                            <option value="ITEM_TITLE" th:selected="${adminPageVO.searchOption}=='ITEM_TITLE'">제목
                            </option>
                        </select>
                    </span>
                    <span><input type="text" name="searchText" th:value="${adminPageVO.searchText}"></span>
                    <span><button type="submit">검색</button></span>
                </form>



            </div>
        </div>
    </div>

</th:block>

<th:block layout:fragment="content_js">
    <!-- html 파일이 열릴때 같이 실행되는 js -->

    <script src="/js/content/admin/admin_board_manage.js"></script>

</th:block>

</html>