<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{fragment/user_layout}">

<th:block layout:fragment="content_css">
    <!-- html 파일이 열릴때 같이 실행되는 css -->
    <link rel="stylesheet" href="/css/fragment/item_list.css">

</th:block>
<th:block layout:fragment="contentFragment">
    <input class="searchText" type="hidden" th:value="${searchText}">
    <div class="w-full mb-20">
        <div class="row ">
            <div class="col">
                <div class="row">
                    <div class="col text-center mt-3 mb-5">
                        <span class="text-red-600">'[[${searchText}]]'</span> 의 대한 검색결과 입니다
                    </div>
                </div>
                <div class="row">
                    <div class="col">

                        <div class="mx-auto max-w-7xl py-1 px-4 md:px-3 ">
                            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 container"
                                id="itemListContainer">
                                <th:block th:each="item : ${searchItemList}">
                                    <div class="item-lazy bg-white shadow-xl shadow-slate-900/5 rounded-lg group"
                                        th:onclick="selectItemCode([[${item.itemCode}]])">

                                        <div class="flex flex-row p-3 lg:flex-col">
                                            <div
                                                class="image-container w-24 h-24 lg:w-full lg:h-56 bg-cover bg-center rounded-full lg:rounded-lg overflow-hidden">
                                                <th:block th:if="${item.cateCode == 1}">
                                                    <img class="object-cover w-full h-full group-hover:scale-110 transition-all duration-[500ms]"
                                                        th:src="@{'/upload/itemSolo/' + ${item.imgList[0].attachedFileName}}">
                                                    <div id="heart-div">
                                                        <div>
                                                            <span id=""
                                                                class="wishDelete-div text-red-500 absolute right-[10px] top-[5px] text-[25px] cursor-pointer"
                                                                th:onclick="heart(this,[[${item.itemCode}]],[[${wishchk}]],event)">

                                                                <span th:if='${session.memberId != ""}'>

                                                                    <i th:if="${session.wishchk}"
                                                                        class="ri-heart-3-fill"></i>
                                                                    <i th:if="${!session.wishchk}"
                                                                        class="ri-heart-3-line"></i>
                                                                </span>
                                                                <span>
                                                                    <i th:if='${session.memberId == ""}'
                                                                        class="ri-heart-3-line"></i>'

                                                                </span>


                                                            </span>
                                                        </div>
                                                    </div>
                                                </th:block>
                                                <th:block th:if="${item.cateCode == 2}">
                                                    <img class="object-cover w-full h-full group-hover:scale-110 transition-all duration-[500ms]"
                                                        th:src="@{'/upload/item/' + ${item.imgList[0].attachedFileName}}">
                                                </th:block>


                                            </div>
                                            <div class="ml-5 lg:ml-0 lg:mt-3">
                                                <figcaption class="font-medium">
                                                    <div class="text-dark-600">
                                                        <span
                                                            class="inline-flex items-center rounded-md bg-pink-50 px-2 py-1 text-xs font-medium text-pink-700 ring-1 ring-inset ring-pink-700/10">[[${item.cateName}]]</span><strong
                                                            class="inline-flex text-xs py-1 pl-1 search-color">[[${item.itemPlace}]]</strong>
                                                    </div>
                                                    <div class="text-dark-600 font-bold mt-1 search-color">
                                                        제목 : [[${item.itemTitle}]]
                                                    </div>
                                                    <div class="text-slate-600 text-sm mt-1 search-color">
                                                        작성자 : [[${item.memberId}]]
                                                    </div>
                                                    <div class="text-slate-600 text-sm mt-1 search-color">
                                                        가격 : [[${item.itemPrice == '0' ? '홈페이지 참고' :
                                                        #numbers.formatCurrency(item.itemPrice)}]]
                                                    </div>
                                                    <div class="text-green-500 text-sm mt-1 search-color">
                                                        기간 : [[${item.itemStartDate}]]~[[${item.itemEndDate}]]
                                                    </div>
                                                </figcaption>
                                            </div>

                                        </div>

                                        <div class="w-8 h-8 ml-3">
                                        </div>
                                    </div>
                                </th:block>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="mt-5 mb-5">
                    <div class="text-center">
                        <div class="text-red-400 text-[19px]" >-공지사항-</div>
                        <div class="ms-80">
                            <table class="[&>td]:p-2 text-white font-semibold border-b-2  border-t-red-500 bg-red-300 text-center">
                                    <tr th:each="notice,state:${noticeList}" class="[&>td]:p-2 font-semibold border-b-2 text-center"
                                        th:onclick="|location.href='@{/admin/noticeDetail(noticeCode=${notice.noticeCode},noticeNo=${#lists.size(noticeList)-state.index})}'|">
                                        <td>
                                            [[${#lists.size(noticeList)-state.index}]]
                                        </td>
                                        <td>
                                            [[${notice.noticeTitle}]]
                                        </td>
                                        <td>
                                            [[${notice.noticeDate}]]
                                        </td>
                                    </tr>
                                
                            </table>
                        </div>
                    </div>
                </div>


            </div>
        </div>
    </div>
</th:block>
<th:block layout:fragment="content_js">
    <!-- html 파일이 열릴때 같이 실행되는 js -->
    <script src="/js/content/restAPI/search_result.js"></script>


</th:block>

</html>